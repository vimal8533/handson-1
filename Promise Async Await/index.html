<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Promise Async Await</title>
</head>
<body>
    <h1>Promise Async Await</h1>
<p>Q1. Write one example explaining how you can write a callback function.</p>
<pre>Ans:
    function sum(a,b){
        return a+b;
    }
    function myDetails(name,age){
        return `My name is ${name} and The age is ${age}`;
    }
    let ans =myDetails("Vimal Kumar",sum(10,13));
    console.log(ans);
Output:My name is Vimal Kumar and The age is 23
Explanation:In this program in the myDetails function i called sum 
function as argument  that is called  callback function.
</pre>
<p>Q2. "Write a callback function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on. 

    Explain callback hell.
    Numbers
    1
    2
    3
    4
    5
    6
    7"</p>
<pre>Ans:
    function callback(){
        setTimeout(()=>{
             print(1);
             setTimeout(()=>{
                 print(2);
                 setTimeout(()=>{
                     print(3);
                     setTimeout(()=>{
                         print(4);
                         setTimeout(()=>{
                             print(5);
                             setTimeout(()=>{
                                 print(6);
                                 setTimeout(()=>{
                                     print(7);
                                 },1000)
                             },6000)
                         },5000)
                     },4000)
                 },3000)
             },2000)
         },1000)
     }
     
     const print=(n)=>{
         console.log(n);
     }
     callback()
Output:1
       2
       3
       4
       5
       6
       7
Explanation:In this callback function we call print function in
            the callback function over given timeiout and this 
            struture and multiple nested callbacks are used, 
            resulting in code that is difficult to read, 
            understand, and maintain. is also called 
            callback hell.
</pre>
<p>Q3. "Write the promise function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on. 

    Numbers
    1
    2
    3
    4
    5
    6
    7"</p>
<pre>Ans:
    function promis(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(1)
            }, 1000);
        })   
    }
    function promis1(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(2)
            }, 2000);
        })   
    }
    function promis2(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(3)
            }, 3000);
        })   
    }
    function promis3(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(4)
            }, 4000);
        })   
    }
    function promis4(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(5)
            }, 5000);
        })   
    }
    function promis5(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(6)
            }, 6000);
        })   
    }
    function promis6(){
        return new Promise((resolve,reject)=>{
            setTimeout(() => {
                resolve(7)
            }, 7000);
        })   
    }
    
    promis().then((data)=>{
        console.log(data);
        return promis1();
    }).then((promis1)=>{
        console.log(promis1);
        return promis2();
    }).then((promis2)=>{
        console.log(promis2);
        return promis3();
    }).then((promis3)=>{
        console.log(promis3);
        return promis4();
    }).then((promis4)=>{
        console.log(promis4);
        return promis5();
    }).then((promis5)=>{
        console.log(promis5);
        return promis6();
    }).then((promis6)=>{
        console.log(promis6);
    })
Output:1
       2
       3
       4
       5
       6
       7
Explanation:In this Question i had create multiple of of promise 
            function set some timeout to it to each of the function 
            after that i call it with .then but in .then i 
            also return the second function this way i got my 
            Output
</pre>
<p>Q4. "Create a promise function accepting an argument, if yes is passed to the function then it should go to resolved state and print Promise Resolved, and if nothing is passed 
    then it should go to reject the state and catch the error and print Promise Rejected "</p>
<pre>Ans:
        function sample(n){
         return new Promise((resolve, reject) => {
         if(n%2==0){
            resolve(`${n} is even number`)        
          }else{
            reject(`${n} is not even number`)
             }
       })
     }  

      sample(11).then((data)=>{
        console.log("See the answer:",data)
        }).catch((data)=>{
         console.log("See the answer:",data)
      })
Output:See the answer: 11 is not even number
Explanation:In this promise function i cehk for even or not so 
            i pass the argument 11 in the Promise dunction and 
            it goes to the catch and display.
</pre>
<p>Q5. Create examples to explain callback function</p>
<pre>Ans:
    function discount(sp,dis){
        return Math.floor(sp*((dis)/100));
    }
    function mainprice(sp,dsprice){
        return sp-dsprice;
    }
    console.log(`The Final Price after discount ${mainprice
               (1000,discount(1000,10))}`);    
Output:The Final Price after discount 900.
Explanation:In this program in the mainprice function is takes 
            as argument as discount function and then mainprice 
            return the main price.The function take  argument as 
            function that is called  callback function.
</pre>
<p>Q6. Create examples to explain callback hell function</p>
<pre>Ans:
    function callbackhell(){
        setTimeout(()=>{
             print1("V");
             setTimeout(()=>{
                 print1("I");
                 setTimeout(()=>{
                     print1("M");
                     setTimeout(()=>{
                         print1("A");
                         setTimeout(()=>{
                             print1("L");
                             setTimeout(()=>{
                                 print1("K");
                                 setTimeout(()=>{
                                     print1("r.");
                                 },1000)
                             },6000)
                         },5000)
                     },4000)
                 },3000)
             },2000)
         },1000)
     }
     
     const print1=(n)=>{
         console.log(n);
     }
     callbackhell()
Output:V
       I
       M
       A
       L
       K
       r.
Explanation:In callback function i print the chara. in the 
            given some time inverval and the Callback hell is a 
            phenomenon that happens when multiple callbacks are 
            nested on top of each other. 
</pre>
<p>Q7. Create examples to explain promises function</p>
<pre>Function sample(n){
    return new Promise((resolve, reject) => {
    if(n%2==0){
       resolve(`${n} is even number`)        
     }else{
       reject(`${n} is not even number`)
        }
  })
}  

 sample(11).then((data)=>{
   console.log("See the answer:",data)
   }).catch((data)=>{
    console.log("See the answer:",data)
 })
Output:See the answer: 11 is not even number
Explanation:In this promise function i cehk for even or not so 
       i pass the argument 11 in the Promise dunction and 
       it goes to the catch and display.The Promise object 
       represents the eventual completion (or failure) of an 
       asynchronous operation and its resulting value.
</pre>
<p>Q8. Create examples to explain async await function</p>
<pre>Ans
    async function fetchdata(){
        const response=await fetch('https://api.github.com/users');
    
        const data= await response.json;
        console.log(response)
        
    
    }
    fetchdata()
Output:Response {type: 'cors', url: 'https://api.github.com/users', 
        redirected: false, status: 200, ok: true, …}
Explanation:In this function fetch the api of git hub.
            Async: It simply allows us to write promises-based 
            code as if it was synchronous and it checks that we 
            are not breaking the execution thread. It operates 
            asynchronously via the event loop. Async functions 
            will always return a value.
            Await: Await function is used to wait for the 
            promise. It could be used within the async block 
            only. It makes the code wait until the promise 
            returns a result.
</pre>
<p>Q9. Create examples to explain promise.all function</p>
<pre>Ans
    Promise.all([promis(),promis1(),promis2(),promis3(),
                promis4(),promis5(),promis6()]).then((data)=>{
        console.log(data)
    })
Output:(7) [1, 2, 3, 4, 5, 6, 7]
Explanation:I had make promisesall to previous all promises function
            The Promise.all() static method takes an iterable of 
            promises as input and returns a single Promise. This 
            returned promise fulfills when all of the input's 
            promises fulfill (including when an empty iterable is 
            passed), with an array of the fulfillment values.It 
            rejects when any of the input's promises rejects, 
            with this first rejection reason.
</pre>
    <script src="./script.js"></script>
</body>
</html>